thread synchronization

using pthread_mutex 